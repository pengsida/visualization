<!DOCTYPE html>
<meta charset="utf-8">

<style>
.links line
{
    stroke: #999;
    stroke-opacity: 0.6;
}

.nodes circle
{
    stroke: #fff;
    stroke-width: 1.5px;
}
</style>

<svg width="900" height="600"></svg>

<script src="https://d3js.org/d3.v4.min.js"></script>

<script>

var svg = d3.select("svg");

var color = d3.scaleOrdinal(d3.schemeCategory20);

d3.json('miserables.json', function(err,graph)
{
    if(err)
        throw err;

    var links = svg.append("g").attr("class", "links").selectAll("line").data(graph.links).enter();
    links.append("line").attr("stroke-width", function(d) {return Math.sqrt(d.value);});

    var nodes = svg.append("g").attr("class", "nodes").selectAll("circle").data(graph.nodes).enter()
                   .append("circle")
                   .attr("r", 5)
                   .attr("fill", function(d) { return color(d.group); })
                   .attr("cx", function(d, i){return 3*i;})
                   .attr("cy", function(d, i){return 3*i;});
});

</script>